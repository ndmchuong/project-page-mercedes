const arrImgTextBanner = [
    {
        src: "url(../img/Slideshow-banner/mercedes_benz_c_300_amg_line_2022_4k_3-HD.jpg)",
        textModel: "C-Class",
        textSlogan: "Đây là thế giới của tôi",
        href: "c-class.html"
    },

    {
        src: "url(../img/Slideshow-banner/banner-mercedes_benz_e_300_amg_line.jpg)",
        textModel: "E-Class",
        textSlogan: "Chọn dẫn đầu",
        href: "e-class.html"
    },
    {
        src: "url(../img/Slideshow-banner/banner-mercedes_benz_s_450_4matic.jpg)",
        textModel: "S-Class",
        textSlogan: "Một hành trình phi thường",
        href: "s-class.html"
    },
    {
        src: "url(../img/Slideshow-banner/banner-Mercedes-GLC-300-4Matic-2022.jpg)",
        textModel: "GLC",
        textSlogan: "Mạnh mẽ đa tài",
        href: "glc.html"
    }

];

const arrImgProduct = [
    {
        index: 0,
        src: ["./img/Vehicles/A-class/home-a35-1.jpg", "./img/Vehicles/A-class/home_mercedes-benz_amg-a-35_2.webp", "./img/Vehicles/A-class/home_mercedes-benz_amg-a-35_3.jpg", "./img/Vehicles/A-class/home_mercedes-benz_amg-a-35_4.jpg", "./img/Vehicles/A-class/home-mercedes-amg-a35-4matic-5.jpg"]
    },
    {
        index: 1,
        src: ["./img/Vehicles/C-class/home-Mercedes-Benz-C-Class-1.jpg","./img/Vehicles/C-class/home-mercedes-benz-c-class-2.jpg", "./img/Vehicles/C-class/home-mercedes-benz-c-class-3.jpg", "./img/Vehicles/C-class/home-mercedes-benz-c-class-4.jpg", "./img/Vehicles/C-class/home-Mercedes-Benz-C-Class-5.jpg"]
    },
    {
        index: 2,
        src: ["./img/Vehicles/E-class/home-Mercedes-e-class-1.jpg", "./img/Vehicles/E-class/home-mercedes-e300-amg-2.jpg", "./img/Vehicles/E-class/home-mercedes-benz-e-class-3.jpg", "./img/Vehicles/E-class/home-mercedes-benz-e-class-4.jpg", "./img/Vehicles/E-class/home-mercedes-benz-e-class-5.jpg"]
    },
    {
        index: 3,
        src: ["./img/Vehicles/S-class/home-Mercedes-Benz-S-Class-1.jpg", "./img/Vehicles/S-class/home-mercedes-benz-s-class-2.jpg", "./img/Vehicles/S-class/home-mercedes-benz-s-class-3.jpg", "./img/Vehicles/S-class/home-mercedes-benz-s-class-sedan-4.jpg", "./img/Vehicles/S-class/home-mercedes-benz-s-class-sedan-5.jpg"]
    },
    {
        index: 4,
        src: ["./img/Vehicles/S-class/home-maybach-1.jpg", "./img/Vehicles/S-class/home-mercedes-maybach-s-2.jpg", "./img/Vehicles/S-class/home-mercedes-maybach-s-3.jpg", "./img/Vehicles/S-class/home-mercedes-maybach-s-4.jpg", "./img/Vehicles/S-class/home-mercedes-maybach-s-5.jpg"]
    },
    {
        index: 5,
        src: ["./img/Vehicles/GLB/home-glb200amg-1.jpg", "./img/Vehicles/GLB/home-mercedes-amg-glb-35-2.jpg", "./img/Vehicles/GLB/home-mercedes-amg-glb-35-3.jpg", "./img/Vehicles/GLB/home-mercedes-amg-glb-35-4.jpg", "./img/Vehicles/GLB/home-mercedes-amg-glb-35-5.jpg"]
    },
    {
        index: 6,
        src: ["./img/Vehicles/GLC/home-mercedes-benz-glc-200-4matic-1.jpg", "./img/Vehicles/GLC/home-mercedes-benz-glc-2.jpg", "./img/Vehicles/GLC/home-mercedes-benz-glc-3.jpg", "./img/Vehicles/GLC/home-mercedes-benz-glc-4.jpg", "./img/Vehicles/GLC/home-mercedes-benz-glc-5.jpg"]
    },
    {
        index: 7,
        src: ["./img/Vehicles/GLC/home-GLC_300_4Matic_Coupe.jpg", "./img/Vehicles/GLC/home-mercedes-benz-glc-class-coupe-2.jpg", "./img/Vehicles/GLC/home-mercedes-benz-glc-class-coupe-3.jpg", "./img/Vehicles/GLC/home-mercedes-benz-glc-class-coupe-4.jpg", "./img/Vehicles/GLC/home-mercedes-benz-glc-class-coupe-5.jpg"]
    },
    {
        index: 8,
        src: ["./img/Vehicles/GLE/home-mercedes-amg-gle-suv-1.jpg", "./img/Vehicles/GLE/home-mercedes-benz-gle-2.jpg", "./img/Vehicles/GLE/home-mercedes-benz-gle-3.jpg", "./img/Vehicles/GLE/home-mercedes-benz-gle-4.jpg", "./img/Vehicles/GLE/home-mercedes-benz-gle-5.jpg"]
    },
    {
        index: 9,
        src: ["./img/Vehicles/GLE/home-mercedes-amg-gle-coupe-1.jpg", "./img/Vehicles/GLE/home-mercedes-amg-gle-coupe-2.jpg", "./img/Vehicles/GLE/home-mercedes-amg-gle-53-coupe-3.jpg", "./img/Vehicles/GLE/home_mercedes_gle_53_coupe_4.jpg", "./img/Vehicles/GLE/home_mercedes_gle_53_coupe_5.jpg"]
    },
    {
        index: 10,
        src: ["./img/Vehicles/GLS/home-mercedes-gls-1.jpg", "./img/Vehicles/GLS/home_mercedes_gls_2.jpg", "./img/Vehicles/GLS/home_mercedes_gls_3.jpg", "./img/Vehicles/GLS/home_mercedes_gls_4.jpg", "./img/Vehicles/GLS/home_mercedes_gls_5.jpg"]
    },
    {
        index: 11,
        src: ["./img/Vehicles/G-Class/home-mercedes-amg-g63-1.jpg", "./img/Vehicles/G-Class/home-mercedes-amg-g63-2.jpg", "./img/Vehicles/G-Class/home-mercedes-g63-amg-3.jpg", "./img/Vehicles/G-Class/home-mercedes-g63-amg-4.jpg", "./img/Vehicles/G-Class/home-mercedes-amg-g63-5.jpg"]
    },
    {
        index: 12,
        src: ["./img/Vehicles/GLS/home-maybach-gls-1.jpg", "./img/Vehicles/GLS/home-Mercedes-Maybach-GLS-2.jpg", "./img/Vehicles/GLS/home-Mercedes-Maybach-GLS-3.jpg", "./img/Vehicles/GLS/home-Mercedes-Maybach-gls-4.jpg", "./img/Vehicles/GLS/home-Mercedes-Maybach-GLS-5.jpg"]
    }, 
    {
        index: 13,
        src: ["./img/Vehicles/AMG-GT-4-door/home-mercedes-amg-gt-4-door-1.jpg", "./img/Vehicles/AMG-GT-4-door/home-mercedes-amg-gt-4-door-2.jpg", "./img/Vehicles/AMG-GT-4-door/home-mercedes-amg-gt-4-door-3.jpg", "./img/Vehicles/AMG-GT-4-door/home-mercedes-amg-gt-4-door-4.jpg", "./img/Vehicles/AMG-GT-4-door/home-mercedes-amg-gt-4-door-5.jpg"]
    }
];

const listNavLink = [
    {
        id: 1,
        title: "Các dòng xe",
        li: [
            {
                titleLink: "Tất cả dòng xe",
                url: ""
            },
            {
                titleLink: "Sedan",
                url: ""
            },
            {
                titleLink: "Crossover / SUV",
                url: ""
            },
            {
                titleLink: "Coupe",
                url: ""
            },
            {
                titleLink: "Mercedes-AMG",
                url: ""
            },
            {
                titleLink: "Mercedes-Maybach",
                url: ""
            }
        ]
    },
    {
        id: 2,
        title: "Mua trực tuyến",
        li: [
            {
                titleLink: "Xe mới",
                url: ""
            },
            {
                titleLink: "Xe đã qua sử dụng",
                url: ""
            },
            {
                titleLink: "Phụ kiện chính hãng",
                url: ""
            },
            {
                titleLink: "Bộ sưu tập Mercedes-Benz",
                url: ""
            }
        ]
    },
    {
        id: 3,
        title: "Tư vấn mua xe",
        li: [
            {
                titleLink: "Chọn cấu hình xe",
                url: ""
            },
            {
                titleLink: "Đăng kí lái thử",
                url: ""
            },
            {
                titleLink: "Danh sách đại lý",
                url: ""
            },
            {
                titleLink: "Bảng giá & brochure",
                url: ""
            },
            {
                titleLink: "Khối doanh nghiệp & khách hàng ưu tiên",
                url: ""
            }
        ]
    },
    {
        id: 4,
        title: "Dịch vụ",
        li: [
            {
                titleLink: "Dịch vụ & bảo dưỡng",
                url: ""
            },
            {
                titleLink: "Phụ tùng & dầu chính hãng",
                url: ""
            },
            {
                titleLink: "Phong cách sống Mercedes",
                url: ""
            },
            {
                titleLink: "Đặt hẹn dịch vụ trực tuyến",
                url: ""
            },
            {
                titleLink: "Bảo hành & bảo hiểm",
                url: ""
            },
            {
                titleLink: "Bản tin kĩ thuật",
                url: ""
            }
        ]
    },
    {
        id: 5,
        title: "Thế giới Mercedes",
        li: [
            {
                titleLink: "Hệ thống đa phương tiện MBUX",
                url: ""
            },
            {
                titleLink: "Sáng tạo & công nghệ",
                url: ""
            },
            {
                titleLink: "Thiết kế & xe ý tưởng",
                url: ""
            },
            {
                titleLink: "Phát triển bền vững",
                url: ""
            },
            {
                titleLink: "Về Mercedes-Benz Việt Nam",
                url: ""
            }
        ]
    }
]

const handleCreateNavLink = (id) => {
    // lay ra listNavLink item co id tuong ung
    const navLink = listNavLink.filter((value) => value.id === id);
    // create element ul, h3, button
    const navLinkElement = document.createElement("ul");
    navLinkElement.className = "navbar__nav__nav-link";
    const navLinkTitle = document.createElement("h3");
    navLinkTitle.className = "navbar__nav__nav-link__title";
    const btnClose = document.createElement("button");
    btnClose.className = "navbar__nav__nav-link__btn--close-nav";
    const iconClose = document.createElement("img");
    iconClose.src = "./img/Icon/close-icon.jpg";
    btnClose.appendChild(iconClose);
    navLinkTitle.innerText = navLink[0].title;
    // create array element "li" and "a"
    const navLinkChild = navLink[0].li.map((item) => {
        const navLinkItem = document.createElement("li");
        navLinkItem.className = "navbar__nav__nav-link__nav-link-item";
        const link = document.createElement("a");
        link.innerHTML = item.titleLink;
        navLinkItem.appendChild(link);
        return navLinkItem;
    });
    // append cac the li vao the ul
    navLinkElement.appendChild(btnClose);
    navLinkElement.appendChild(navLinkTitle);
    navLinkChild.forEach((item) => navLinkElement.appendChild(item));
    return navLinkElement;
}
const handleLinkNav = (id) => {
    const navLink = document.querySelectorAll('.navbar__nav__nav-link');
    const navbarNavItem = document.querySelectorAll(".navbar__nav__item");
    navbarNavItem.forEach((item) => item.children[0].style.color = "#fff");
    navbarNavItem[id - 1].children[0].style.color = "#ed0000";
    const navbarNav = document.querySelector(".navbar__nav");
    if (navLink.length === 0) {
        const navLinkNew = handleCreateNavLink(id);
        navbarNav.appendChild(navLinkNew);
        const btnCloseNav = document.querySelector(".navbar__nav__nav-link__btn--close-nav");
        btnCloseNav.addEventListener("click", function() {
            navLinkNew.remove();
            navbarNavItem.forEach((item) => item.children[0].style.color = "#fff");
        })
    }
    else {
        navLink[0].remove();
        const navLinkNew = handleCreateNavLink(id);
        navbarNav.appendChild(navLinkNew);
        const btnCloseNav = document.querySelector(".navbar__nav__nav-link__btn--close-nav");
        btnCloseNav.addEventListener("click", function() {
            navLinkNew.remove();
            navbarNavItem.forEach((item) => item.children[0].style.color = "#fff");
        })
    }
}

let indexSlide = 0;
const handleSlideBanner = () => {
    indexSlide += 1;
    if (indexSlide == arrImgTextBanner.length) {
        indexSlide = 0;
    }
    
    let bgBanner = document.getElementsByClassName("banner")[0];
    let textModel = document.getElementsByClassName("banner__text--model")[0];
    let textSlogan = document.getElementsByClassName("banner__text--slogan")[0];
    let linkDetail = document.getElementsByClassName("banner__link-product")[0];
    // custom background-image and text
    bgBanner.style.backgroundImage = `${arrImgTextBanner[indexSlide].src}`;
    textModel.innerText = `${arrImgTextBanner[indexSlide].textModel}`;
    textSlogan.innerText = `${arrImgTextBanner[indexSlide].textSlogan}`;
    linkDetail.href = `${arrImgTextBanner[indexSlide].href}`;
} 
setInterval(handleSlideBanner, 5000);

const handleDropdownNav = () => {
    const iconBar = document.querySelector(".navbar__btn--dropdown-nav").children[0];
    if (iconBar.className === 'fa fa-bars') {
        iconBar.className = "fa fa-close";
    }
    else if (iconBar.className === "fa fa-close") {
        iconBar.className = "fa fa-bars";
    }
}
let indexSlideshowImg = 1;
let showImg;
const handleSlideshow = (index) => {
    // Lay ra mang thong tin san pham trung voi san pham duoc chi dinh
    let infoProduct = arrImgProduct.filter(value => value.index === index);
    // Lay the img va mang cac src image
    let productItemImg = document.querySelectorAll(".product-item-img")[infoProduct[0].index];
    let srcImgProduct = infoProduct[0].src;
    // set src cua the img
    productItemImg.src = `${srcImgProduct[indexSlideshowImg]}`;
    // set image tu chuyen doi sau t(s)
    showImg = setInterval(() => {
        indexSlideshowImg += 1;
        if (indexSlideshowImg === srcImgProduct.length) {
            indexSlideshowImg = 1;
        };
        productItemImg.src = `${srcImgProduct[indexSlideshowImg]}`;
    }, 2000);
}

const handleStopSlideshow = (index) => {
    clearInterval(showImg);
    // Lay ra mang thong tin san pham trung voi san pham duoc chi dinh
    let infoProduct = arrImgProduct.filter(value => value.index === index);
    // Lay the img va mang cac src image
    let productItemImg = document.querySelectorAll(".product-item-img")[infoProduct[0].index];
    let srcImgProduct = infoProduct[0].src;
    // set src cua the img
    productItemImg.src = `${srcImgProduct[0]}`;
    indexSlideshowImg = 1;
}



